!function(n){function t(t,f){function d(i,r){t["scroll"+r.Dir](0);var o=f.prefix+"bar"+r.suffix,u=t.children("."+o);u.length||(u=n(f.barHtml).addClass(o).appendTo(t));u.on("mousedown touchstart",function(n){n.preventDefault();var t=e["scroll"+r.Dir](),u=n[r.clientAxis]||n.originalEvent.changedTouches&&n.originalEvent.changedTouches[0][r.clientAxis],f=b(i,r).ratio;a.on("mousemove.custom-scroll touchmove.custom-scroll",function(n){n.preventDefault();var i=n[r.clientAxis]||n.originalEvent.changedTouches&&n.originalEvent.changedTouches[0][r.clientAxis];e["scroll"+r.Dir](t+(i-u)/f)});a.on("mouseup.custom-scroll touchend.custom-scroll",function(){a.off(".custom-scroll")})});h[i]=u}function b(n,i){var u=0|e.prop("scroll"+i.Dim),o=t["inner"+i.Dim](),c=e["inner"+i.Dim](),r=o-f["offset"+i.Dir]-f["offset"+i.Dir2],s,h;return y["x"==n?"y":"x"]||(r-=f["track"+i.Dim]),s=Math.max(r*o/u|0,f["barMin"+i.Dim]),h=(r-s)/(u-c),{ratio:h,dim:o,scroll:r,total:u,bar:s}}function v(){n.each(l,g)}function g(n,i){var r=b(n,i),s,c,u;r.total&&(s=e["scroll"+i.Dir](),(o[n].scrollPos!==s||o[n].scroll!==r.scroll||o[n].total!==r.total)&&(o[n]=r,o[n].scrollPos=s,c=r.bar>=r.scroll,c!==y[n]&&(t.toggleClass(f.prefix+"hidden"+i.suffix,c),y[n]=c),u=s*r.ratio,0>u&&(u=0),u>r.scroll-r.bar&&(u=r.scroll-r.bar),h[n][i.dim](r.bar).css(i.dir,f["offset"+i.Dir]+u)))}function nt(){n.each(l,function(n){h[n].remove()});t.removeClass(f.prefix+"container").removeData("custom-scroll").css({padding:"",maxHeight:""});e.contents().appendTo(t);e.remove()}var c=t.data("custom-scroll"),e,p,a,h,w;f=c?c.options:n.extend({},i,f);var l={},o={},y={x:+f.vertical,y:+f.horizontal};if(f.horizontal&&(l.x=u,o.x={}),f.vertical&&(l.y=r,o.y={}),t.hasClass(f.prefix+"container")&&c)return c.updateBars(),c;e=t.children("."+f.prefix+"inner");e.length||(e=t.wrapInner('<div class="'+f.prefix+'inner"><\/div>').children());t.addClass(f.prefix+"container");var s=n('<div class="'+f.prefix+'inner" />').width(100).height(100).appendTo("body").css({overflow:"scroll"})[0],tt=s.offsetWidth-s.clientWidth,k=s.offsetHeight-s.clientHeight;return s.parentElement.removeChild(s),f.vertical?(e.css({paddingLeft:t.css("paddingLeft"),paddingRight:t.css("paddingRight"),marginRight:-tt+"px"}),t.css({paddingLeft:0,paddingRight:0})):e.css({overflowY:"hidden"}),f.horizontal?(e.css({marginBottom:-k+"px",paddingBottom:k+"px"}),t.css({paddingTop:0,paddingBottom:0})):e.css({overflowX:"hidden"}),p=t.css("maxHeight"),parseInt(p)&&(t.css("maxHeight","none"),e.css("maxHeight",p)),t.scrollTop(0),a=n("body"),h={},n.each(l,d),e.on("scroll",v),v(),w={$container:t,$bar:h.y,$barX:h.x,$inner:e,destroy:nt,updateBars:v,options:f},t.data("custom-scroll",w),w}n.fn.customScroll=function(r){return this.length?"destroy"===r?(this.each(function(){var t=n(this).data("custom-scroll");t&&t.destroy()}),this):1===this.length?t(this,r):void this.each(function(){t(n(this),r)}):n.extend(i,r)};var i={prefix:"custom-scroll_",barMinHeight:10,barMinWidth:10,offsetTop:0,offsetBottom:0,offsetLeft:0,offsetRight:0,trackWidth:10,trackHeight:10,barHtml:"<div />",vertical:!0,horizontal:!0},r={dim:"height",Dim:"Height",dir:"top",Dir:"Top",dir2:"bottom",Dir2:"Bottom",clientAxis:"clientY",suffix:"-y"},u={dim:"width",Dim:"Width",dir:"left",Dir:"Left",dir2:"right",Dir2:"Right",clientAxis:"clientX",suffix:"-x"}}(jQuery),function(n){n(".customscroll").each(function(){var t=n(this),i=t.data("prefix")||"custom-scroll_",r=t.data("bar-minheight")||10,u=t.data("offset-top")||0,f=t.data("offset-bottom")||0,e=t.data("track-width")||10,o=t.data("bar-minwidth")||10,s=t.data("offset-left")||0,h=t.data("offset-right")||0,c=t.data("track-height")||10,l=t.data("vertical")||!0,a=t.data("horizontal")||!1,v=t.customScroll({prefix:i,barMinHeight:r,offsetTop:u,offsetBottom:f,trackWidth:e,barMinWidth:o,offsetLeft:s,offsetRight:h,trackHeight:c,vertical:l,horizontal:a})})}(jQuery);